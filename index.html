<!doctype html>
<html lang="ru">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- Preload критических ресурсов -->
    <link rel="preload" href="/style.css" as="style">
    <link rel="preload" href="/api.js" as="script">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preconnect" href="https://kodikapi.com">

    <!-- DNS-prefetch для внешних доменов -->
    <link rel="dns-prefetch" href="https://shikimori.one">
    <link rel="dns-prefetch" href="https://anilist.co">
    <link rel="dns-prefetch" href="https://myanimelist.net">

    <!-- SEO: основные мета -->
    <title>Смотреть аниме онлайн бесплатно в HD качестве — AniFox</title>
    <meta name="description"
        content="✅ Более 3000 аниме фильмов и сериалов на AniFox. Смотрите онлайн в HD 720/1080, без регистрации. Ежедневные обновления, удобный поиск по жанрам и годам.">
    <meta name="keywords"
        content="аниме онлайн, смотреть аниме, аниме бесплатно, аниме 2025, аниме HD, аниме сериалы, аниме фильмы, naruto, attack on titan, demon slayer, death note, one piece, сёнэн, сёдзё, исекай, романтика, боевик, драма, тетрадь смерти, аниме каталог, аниме поиск, kodik, aniboom, animego">

    <!-- Open Graph / Facebook / VK -->
    <meta property="og:type" content="website">
    <meta property="og:locale" content="ru_RU">
    <meta property="og:url" content="https://anifox-search.vercel.app/">
    <meta property="og:title" content="AniFox — смотреть аниме онлайн в HD">
    <meta property="og:description"
        content="Большая база аниме: тысячи сериалов и фильмов в HD. Без регистрации, адаптировано под телефон и Smart-TV.">
    <meta property="og:image" content="https://anifox-search.vercel.app/resources/obl_web.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="AniFox">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AniFox — смотреть аниме онлайн">
    <meta name="twitter:description" content="Без рекламы, HD 1080, ежедневные обновления.">
    <meta name="twitter:image" content="https://anifox-search.vercel.app/resources/obl_web.jpg">

    <!-- Favicons -->
    <link rel="icon" href="/favicon/favicon.ico" type="image/x-icon">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/manifest.json" crossorigin="use-credentials">

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#5b0a99">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="AniFox">

    <!-- Дополнительные SEO мета-теги -->
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="yandex" content="index, follow">
    
    <!-- Гео-метатеги -->
    <meta name="geo.region" content="RU">
    <meta name="geo.placename" content="Russia">
    <meta name="geo.position" content="55.755826;37.6173">
    <meta name="ICBM" content="55.755826, 37.6173">

    <!-- Канонический URL -->
    <link rel="canonical" href="https://anifox-search.vercel.app/">

    <!-- Альтернативные языки -->
    <link rel="alternate" hreflang="ru" href="https://anifox-search.vercel.app/">
    <link rel="alternate" hreflang="x-default" href="https://anifox-search.vercel.app/">

    <!-- Отложенная загрузка некритических CSS -->
    <link rel="stylesheet" href="/style.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="/cookie-banner.css" media="print" onload="this.media='all'">
    <link rel="stylesheet" href="/adblock-banner.css" media="print" onload="this.media='all'">

    <!-- Noscript fallback для CSS -->
    <noscript>
        <link rel="stylesheet" href="/style.css">
        <link rel="stylesheet" href="/cookie-banner.css">
        <link rel="stylesheet" href="/adblock-banner.css">
    </noscript>

    <!-- Структурированные данные -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "AniFox - Смотреть аниме онлайн",
        "alternateName": "AniFox",
        "url": "https://anifox-search.vercel.app/",
        "description": "Бесплатная платформа для просмотра аниме онлайн в HD качестве. Тысячи сериалов и фильмов без регистрации на русском языке.",
        "keywords": "аниме онлайн, смотреть аниме, аниме бесплатно, аниме hd, аниме 2024, аниме сериалы, аниме на русском",
        "inLanguage": "ru",
        "potentialAction": {
            "@type": "SearchAction",
            "target": {
                "@type": "EntryPoint",
                "urlTemplate": "https://anifox-search.vercel.app/?q={search_term_string}"
            },
            "query-input": "required name=search_term_string"
        },
        "publisher": {
            "@type": "Organization",
            "name": "AniFox",
            "url": "https://anifox-search.vercel.app/",
            "logo": {
                "@type": "ImageObject",
                "url": "https://anifox-search.vercel.app/favicon/android-chrome-192x192.png",
                "width": "192",
                "height": "192"
            }
        }
    }
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "AniFox",
        "url": "https://anifox-search.vercel.app/",
        "logo": "https://anifox-search.vercel.app/favicon/android-chrome-512x512.png",
        "description": "Платформа для просмотра аниме онлайн",
        "sameAs": [
            "https://vk.com/anifox_ru",
            "https://t.me/anifoxru"
        ]
    }
    </script>
</head>

<body>
    <!-- Header -->
    <header class="top" role="banner">
        <a class="logo-link" href="https://anifox-search.vercel.app/" aria-label="AniFox — главная страница">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 265 275" fill="none" aria-hidden="true" focusable="false">
                <rect width="40.4804" height="283.038" rx="15"
                    transform="matrix(0.906596 -0.421999 0.423238 0.906018 103.258 17.0827)"
                    fill="url(#paint0_linear_2_15)" />
                <foreignObject x="-94.4697" y="2.52924" width="453.939" height="366.952">
                    <div xmlns="http://www.w3.org/1999/xhtml"
                        style="backdrop-filter:blur(50px);clip-path:url(#bgblur_0_2_15_clip_path);height:100%;width:100%">
                    </div>
                </foreignObject>
                <rect data-figma-bg-blur-radius="100" width="40.4396" height="283.324" rx="15"
                    transform="matrix(-0.506493 -0.862244 -0.863032 0.505149 265 131.879)"
                    fill="url(#paint1_linear_2_15)" />
                <rect width="40.4804" height="283.038" rx="15"
                    transform="matrix(-0.906596 -0.421999 -0.423238 0.906018 156.62 17.5398)"
                    fill="url(#paint2_linear_2_15)" />
                <defs>
                    <clipPath id="bgblur_0_2_15_clip_path" transform="translate(94.4697 -2.52924)">
                        <rect width="40.4396" height="283.324" rx="15"
                            transform="matrix(-0.506493 -0.862244 -0.863032 0.505149 265 131.879)" />
                    </clipPath>
                    <linearGradient id="paint0_linear_2_15" x1="20.2402" y1="3.11131e-08" x2="27.5397" y2="495.888"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="white" />
                        <stop offset="1" stop-color="white" stop-opacity="0.7" />
                    </linearGradient>
                    <linearGradient id="paint1_linear_2_15" x1="25.1242" y1="411.958" x2="33.2642" y2="-4.77633"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="#22083F" stop-opacity="0.7" />
                        <stop offset="1" stop-color="#6C16C9" />
                    </linearGradient>
                    <linearGradient id="paint2_linear_2_15" x1="20.2402" y1="0" x2="20.2402" y2="283.038"
                        gradientUnits="userSpaceOnUse">
                        <stop stop-color="white" />
                        <stop offset="1" stop-color="white" />
                    </linearGradient>
                </defs>
            </svg>
            <span class="logo-text">AniFox</span>
        </a>
    </header>

    <!-- Search Section -->
    <section class="search-section" aria-labelledby="search-title">
        <h1 id="search-title" class="visually-hidden">Поиск аниме онлайн</h1>
        <form id="searchForm" action="/" method="get" autocomplete="off" role="search">
            <label class="visually-hidden" for="searchInput">Введите название аниме для поиска</label>
            <input id="searchInput" name="q" type="search" placeholder="Название аниме…" 
                   aria-label="Поиск аниме" enterkeyhint="search">
            <button type="submit" aria-label="Найти аниме">Найти</button>
        </form>
    </section>

    <!-- Main Content -->
    <main id="resultsBox" class="player-lane" role="main">
        <!-- Content will be loaded here dynamically -->
        <div class="initial-loading">
            <div class="loading"></div>
            <p>Загрузка аниме...</p>
        </div>
    </main>

    <!-- Scroll to Top -->
    <button id="scrollToTop" aria-label="Наверх" style="display: none;">↑</button>

    <!-- Footer -->
    <footer class="site-footer" role="contentinfo">
        <div class="footer-content">
            <!-- Видимая часть футера -->
            <div class="footer-main">
                <div class="footer-section">
                    <h2>AniFox</h2>
                    <p>Лучшая платформа для просмотра аниме онлайн в HD качестве. Бесплатно и без регистрации.</p>
                    <div class="footer-links">
                        <a href="/privacy-policy.html">Политика конфиденциальности</a>
                    </div>
                </div>

                <div class="footer-section">
                    <h3>Разделы</h3>
                    <ul>
                        <li><a href="/">Главная</a></li>
                        <li><a href="/?page=favorites">Избранное</a></li>
                    </ul>
                </div>
            </div>

            <!-- SEO контент (семантически скрыт) -->
            <div class="footer-seo" aria-hidden="true" style="display: none;">
                <p>AniFox - это современная платформа для просмотра аниме онлайн. У нас вы найдете огромную коллекцию японской анимации: от классических шедевров до новейших релизов. Смотрите аниме бесплатно в HD 720p и 1080p качестве на компьютере, планшете или смартфоне.</p>
                
                <p>Популярные категории: сёнэн аниме для подростков, романтические комедии, фэнтези и приключения, научная фантастика, мистика и ужасы, спокон (спортивные аниме), меха (роботы), исекай (попаданцы), повседневность, драма.</p>
            </div>

            <!-- Копирайт и соцсети -->
            <div class="footer-bottom">
                <div class="footer-copyright">
                    <p>&copy; 2025 AniFox. Весь контент принадлежит правообладателям.</p>
                    <p>AniFox не хранит видеофайлы на своих серверах, а предоставляет ссылки на сторонние ресурсы.</p>
                </div>

                <div class="footer-social">
                    <a href="https://vk.com/anifox_ru" aria-label="Наша группа ВКонтакте" target="_blank" rel="noopener noreferrer">
                       <i class="fab fa-vk"></i>
                    </a>
                    <a href="https://t.me/anifoxru" aria-label="Наш Telegram канал" target="_blank" rel="noopener noreferrer">
                       <i class="fab fa-telegram"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Отложенная загрузка JavaScript -->
    <script>
        // Функция для отложенной загрузки скриптов
        function loadScript(src, async = true) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.async = async;
                script.onload = resolve;
                script.onerror = reject;
                document.body.appendChild(script);
            });
        }

        // Загрузка критических скриптов
        window.addEventListener('DOMContentLoaded', async () => {
            try {
                // Загружаем основной функционал
                await loadScript('/api.js');
                
                // Загружаем некритические скрипты после загрузки страницы
                if ('requestIdleCallback' in window) {
                    requestIdleCallback(() => {
                        loadScript('/seo.js');
                        loadScript('/cookie-banner.js');
                        loadScript('/adblock-banner.js');
                    });
                } else {
                    setTimeout(() => {
                        loadScript('/seo.js');
                        loadScript('/cookie-banner.js');
                        loadScript('/adblock-banner.js');
                    }, 1000);
                }
            } catch (error) {
                console.error('Error loading scripts:', error);
            }
        });

        // Service Worker регистрация
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            });
        }
    </script>

    <!-- Yandex.Metrika counter (отложенная загрузка) -->
    <script>
        window.addEventListener('load', () => {
            if (document.visibilityState === 'visible') {
                const script = document.createElement('script');
                script.src = 'https://mc.yandex.ru/metrika/tag.js';
                script.async = true;
                document.body.appendChild(script);
                
                window.ym = window.ym || function(){(window.ym.a = window.ym.a || []).push(arguments);};
                window.ym.l = 1 * new Date();
                window.ym(104428432, 'init', {
                    ssr: true,
                    webvisor: true,
                    clickmap: true,
                    ecommerce: "dataLayer",
                    accurateTrackBounce: true,
                    trackLinks: true
                });
            }
        });
    </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/104428432" style="position:absolute; left:-9999px;" alt="" /></div>
    </noscript>

    <!-- Google Site Verification -->
    <meta name="google-site-verification" content="egPDfS40HGTB97OHt3aWiauBnAvX2zJ3m8sAMBIb40A" />
    <meta name="yandex-verification" content="e21d42ad747a078b" />
</body>

</html>